{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/props.ts", "../src/index.ts"],
  "sourcesContent": ["export const nodeOPs = {\n  insert(el, parent, anchor) {\n    // anchor \u4E3A null \u65F6\uFF0C\u7B49\u4EF7\u4E8E appendChild\n    parent.insertBefore(el, anchor || null);\n  },\n  remove(el) {\n    const parent = el.parentNode;\n    if (parent) {\n      parent.removeChild(el);\n    }\n  },\n  createElement(type) {\n    return document.createElement(type);\n  },\n  createText(text) {\n    return document.createTextNode(text);\n  },\n  setText(node, text) {\n    // nodeValue \u548C textContent \u7684\u533A\u522B\n    // nodeValue \u4F1A\u5C06\u6240\u6709\u5B50\u8282\u70B9\u7684\u6587\u672C\u5185\u5BB9\u5408\u5E76\n    // textContent \u53EA\u4F1A\u83B7\u53D6\u5F53\u524D\u8282\u70B9\u7684\u6587\u672C\u5185\u5BB9\n    node.nodeValue = text;\n  },\n  setElementText(el, text) {\n    el.textContent = text;\n  },\n  parentNode(node) {\n    return node.parentNode;\n  },\n  nextSibling(node) {\n    return node.nextSibling;\n  }\n};\n", "\nfunction patchStyle(el, prevValue, nextValue) {\n  \n  const style = el['style'];\n  // \u65B0\u7684\u5143\u7D20\u9700\u8981\u8986\u76D6\n  if (nextValue) {\n    for (let key in nextValue) {\n      style[key] = nextValue[key];\n    }\n  }\n  \n  // \u65B0\u7684\u6709\u8001\u5F97\u6CA1\u6709\uFF0C\u9700\u8981\u5220\u9664\n  if (prevValue) {\n    for (let key in prevValue) {\n      if (nextValue[key] == null) {\n        style[key] = '';\n      }\n    }\n  }\n}\n\nfunction patchClass(el, nextValue) {\n  if (nextValue == null) {\n    el.removeAttribute('class');\n  } else {\n    el.className = nextValue;\n  }\n}\n\n// \u8FD9\u91CC\u7684\u4EE3\u7801\u5199\u7684\u6709\u6280\u5DE7\nfunction createInvoker(val) {\n  const invoker = (e) => {\n    invoker.value(e);\n  }\n  invoker.value = val;\n  return invoker;\n}\n\nfunction patchEvent(el, eventName, nextValue) {\n\n  const invokers = el._vei || (el._vei = {});\n\n  const exists = invokers[eventName];\n\n  if (exists && nextValue) {\n    exists.value = nextValue; // \u6362\u7ED1\u4E8B\u4EF6\n  } else {\n    const name = eventName.slice(2).toLowerCase();\n    if (nextValue) {\n      const invoker = (invokers[eventName] =  createInvoker(nextValue));\n      el.addEventListener(name, invoker);\n    } else if (exists) { // \u65B0\u7684\u6CA1\u6709\uFF0C\u8001\u7684\u6709\uFF0C\u5220\u9664\n      el.removeAddEventListener(name, exists);\n      invokers[eventName] = null;\n    }\n  }\n}\n\nfunction patchAttr(el, key, nextValue) {\n  if (nextValue == null) {\n    el.removeAttribute(key);\n  } else {\n    el.setAttribute(key, nextValue);\n  }\n}\n\nexport function patchProp(el, key, prevValue, nextValue) {\n // \u5C5E\u6027\u7684\u521D\u59CB\u5316\u548C\u66F4\u65B0\n  \n  if (key === 'style') {\n    return patchStyle(el, prevValue, nextValue);\n  } else if (key === 'class') {\n    return patchClass(el, nextValue);\n  } else if (/^on[^a-z]/.test(key)) {\n    // \u4E8B\u4EF6\n    return patchEvent(el, key, nextValue)\n  } else {\n    return patchAttr(el, key, nextValue);\n  }\n}\n", "import { nodeOPs } from \"./nodeOps\";\nimport { patchProp } from \"./props\";\n\nconst renderOptions = { ...nodeOPs, patchProp };\n\nconsole.log(renderOptions)\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;AAAO,IAAM,UAAU;AAAA,EACrB,OAAO,IAAI,QAAQ,QAAQ;AAEzB,WAAO,aAAa,IAAI,UAAU,IAAI;AAAA,EACxC;AAAA,EACA,OAAO,IAAI;AACT,UAAM,SAAS,GAAG;AAClB,QAAI,QAAQ;AACV,aAAO,YAAY,EAAE;AAAA,IACvB;AAAA,EACF;AAAA,EACA,cAAc,MAAM;AAClB,WAAO,SAAS,cAAc,IAAI;AAAA,EACpC;AAAA,EACA,WAAW,MAAM;AACf,WAAO,SAAS,eAAe,IAAI;AAAA,EACrC;AAAA,EACA,QAAQ,MAAM,MAAM;AAIlB,SAAK,YAAY;AAAA,EACnB;AAAA,EACA,eAAe,IAAI,MAAM;AACvB,OAAG,cAAc;AAAA,EACnB;AAAA,EACA,WAAW,MAAM;AACf,WAAO,KAAK;AAAA,EACd;AAAA,EACA,YAAY,MAAM;AAChB,WAAO,KAAK;AAAA,EACd;AACF;;;AC/BA,SAAS,WAAW,IAAI,WAAW,WAAW;AAE5C,QAAM,QAAQ,GAAG,OAAO;AAExB,MAAI,WAAW;AACb,aAAS,OAAO,WAAW;AACzB,YAAM,GAAG,IAAI,UAAU,GAAG;AAAA,IAC5B;AAAA,EACF;AAGA,MAAI,WAAW;AACb,aAAS,OAAO,WAAW;AACzB,UAAI,UAAU,GAAG,KAAK,MAAM;AAC1B,cAAM,GAAG,IAAI;AAAA,MACf;AAAA,IACF;AAAA,EACF;AACF;AAEA,SAAS,WAAW,IAAI,WAAW;AACjC,MAAI,aAAa,MAAM;AACrB,OAAG,gBAAgB,OAAO;AAAA,EAC5B,OAAO;AACL,OAAG,YAAY;AAAA,EACjB;AACF;AAGA,SAAS,cAAc,KAAK;AAC1B,QAAM,UAAU,CAAC,MAAM;AACrB,YAAQ,MAAM,CAAC;AAAA,EACjB;AACA,UAAQ,QAAQ;AAChB,SAAO;AACT;AAEA,SAAS,WAAW,IAAI,WAAW,WAAW;AAE5C,QAAM,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC;AAExC,QAAM,SAAS,SAAS,SAAS;AAEjC,MAAI,UAAU,WAAW;AACvB,WAAO,QAAQ;AAAA,EACjB,OAAO;AACL,UAAM,OAAO,UAAU,MAAM,CAAC,EAAE,YAAY;AAC5C,QAAI,WAAW;AACb,YAAM,UAAW,SAAS,SAAS,IAAK,cAAc,SAAS;AAC/D,SAAG,iBAAiB,MAAM,OAAO;AAAA,IACnC,WAAW,QAAQ;AACjB,SAAG,uBAAuB,MAAM,MAAM;AACtC,eAAS,SAAS,IAAI;AAAA,IACxB;AAAA,EACF;AACF;AAEA,SAAS,UAAU,IAAI,KAAK,WAAW;AACrC,MAAI,aAAa,MAAM;AACrB,OAAG,gBAAgB,GAAG;AAAA,EACxB,OAAO;AACL,OAAG,aAAa,KAAK,SAAS;AAAA,EAChC;AACF;AAEO,SAAS,UAAU,IAAI,KAAK,WAAW,WAAW;AAGvD,MAAI,QAAQ,SAAS;AACnB,WAAO,WAAW,IAAI,WAAW,SAAS;AAAA,EAC5C,WAAW,QAAQ,SAAS;AAC1B,WAAO,WAAW,IAAI,SAAS;AAAA,EACjC,WAAW,YAAY,KAAK,GAAG,GAAG;AAEhC,WAAO,WAAW,IAAI,KAAK,SAAS;AAAA,EACtC,OAAO;AACL,WAAO,UAAU,IAAI,KAAK,SAAS;AAAA,EACrC;AACF;;;AC5EA,IAAM,gBAAgB,iCAAK,UAAL,EAAc,UAAU;AAE9C,QAAQ,IAAI,aAAa;",
  "names": []
}
